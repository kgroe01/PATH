---
title: "Login"
author: "Katelyn Groe"
date: "2025-01-21"
output_dir: "docs"
output:
  html_document:
    css: style.css
    theme: null
    toc: false
    includes: 
        in_header: Friv.html
---

<nav>
  <a href="index.html">Home</a>
  <a href="contact.html">Contact</a>
</nav>

# Log in Page


<h2>Sign In</h2>

<label for="email">Email:</label>
<input type="email" id="email" required><br>

<label for="password">Password:</label>
<input type="password" id="password" required><br>

<button onclick="checkLogin()">Login</button>

<script>
// Define users with their emails, passwords, and assigned pages
const users = {
  "kgroe@iastate.edu": { password: "kgroe", page: "Modules.html" },
  "rhuffman@iastate.edu": { password: "rhuffman", page: "rhuffman.html" },
  "user3@example.com": { password: "password3", page: "user3.html" },
  // Add more users as needed
};

// Function to check email & password and redirect
function checkLogin() {
  var email = document.getElementById("email").value.trim().toLowerCase();
  var password = document.getElementById("password").value;

  if (users.hasOwnProperty(email) && users[email].password === password) {
    var expirationTime = Date.now() + 12 * 60 * 60 * 1000; // 12 hours
    localStorage.setItem("access", email);
    localStorage.setItem("expiration", expirationTime);
    window.location.href = users[email].page; // Redirect to user page
  } else {
    alert("Incorrect email or password. Try again.");
  }
}

// Check session expiration and redirect if needed
window.onload = function() {
  var email = localStorage.getItem("access");
  var expiration = localStorage.getItem("expiration");

  // Get the current page name (e.g., "Modules.html", "Login.html")
  var currentPage = window.location.pathname.split("/").pop();

  // If session expired, clear storage and redirect to login (but not on Login.html)
  if (!email || !expiration || Date.now() > expiration) {
    localStorage.removeItem("access");
    localStorage.removeItem("expiration");
    
    if (currentPage !== "Login.html") {
      window.location.href = "Login.html"; // Redirect only on protected pages
    }
  }
};
</script>





