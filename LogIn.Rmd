---
title: "Login"
author: "Katelyn Groe"
date: "2025-01-21"
output:
  html_document:
    css: style.css
    theme: null
    toc: false
    includes: 
        in_header: Friv.html
---

<script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>


<nav>
  <a href="index.html">Home</a>
  <a href="contact.html">Contact</a>
</nav>

# Log in Page

[Unit 1 - Crop and Soil Management](Modules.html)



<script>
    netlifyIdentity.on("init", user => {
        if (user) {
            document.getElementById("user-info").innerText = "Hello, " + user.email;
        }
    });

    netlifyIdentity.on("login", user => {
        document.getElementById("user-info").innerText = "Hello, " + user.email;
    });

    netlifyIdentity.on("logout", () => {
        document.getElementById("user-info").innerText = "";
    });
</script>


<button onclick="netlifyIdentity.open()">Log In</button>
<button onclick="netlifyIdentity.logout()">Log Out</button>
<p id="user-info"></p>

<script>
    netlifyIdentity.on("login", user => {
        const email = user.email;

        // Define where each user should go
        const userPages = {
            "kgroe@iastate.edu": "Modules.html",
            "aalthaus@iastate.edu": "rhuffman.html",
            "admin@example.com": "admin.html",
            "default": "default.html" // Redirect for unknown users
        };

        // Find the correct page for the user
        const redirectPage = userPages[email] || userPages["default"];

        // Redirect user
        window.location.href = redirectPage;
    });

    netlifyIdentity.on("logout", () => {
        window.location.href = "index.html"; // Send them back to home on logout
    });
</script>
